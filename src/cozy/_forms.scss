// XXX overwrittent to avoid the .was-validated stuff
@mixin form-validation-state-selector($state) {
  @if ($state == "valid" or $state == "invalid") {
    #{if(&, "&", "")}.is-#{$state} {
      @content;
    }
  } @else {
    #{if(&, "&", "")}.is-#{$state} {
      @content;
    }
  }
}

.form-check-input,
.form-check-label {
  cursor: pointer;
}

.form-check-input:hover {
  box-shadow: 0 0 0 .5rem var(--btn-primary-shadow-color);
}

.form-control:hover {
  border-color: var(--primaryColor);
}

// XXX we want to make the check able to use a color from the theme, via the
// CSS variables. Bootstrap uses a background image with a SVG but I didn't
// find how to use a CSS variable for that (url() escapes custom properties).
// So, I decided to use a mask with the SVG. But the mask on the input hides
// the border and the outline on hover. We can use an ::after pseudo element
// and apply the mask on it. The input is a replaced element, so it can't have
// an ::after pseudo element, but we can put it on the nearby label. Yikes!
.form-check-input[type="checkbox"] ~ label {
  position: relative;
}

.form-check-input[type="checkbox"]:checked ~ label::after {
  position: absolute;
  top: ($line-height-base - $form-check-input-width) / 2;
  left: $form-check-padding-start * -1;
  display: block;
  mask: escape-svg(url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path fill='none' stroke='#000' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/></svg>"));
  mask-size: cover;
  width: $form-check-input-width;
  height: $form-check-input-width;
  content: "";
  background-color: var(--primaryTextContrastColor);
}
